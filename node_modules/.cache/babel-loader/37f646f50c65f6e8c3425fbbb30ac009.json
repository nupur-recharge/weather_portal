{"ast":null,"code":"var _jsxFileName = \"/home/nupur.majumar/Desktop/weather_portal/src/component/weatherForcast.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Collapse } from \"antd\";\nimport { getWeather } from \"../API/api-services\";\nimport DropDown from \"./share/dropdown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Panel\n} = Collapse;\n\nfunction callback(key) {\n  console.log(key);\n}\n\nconst text = `\n  A dog is a type of domesticated animal.\n  Known for its loyalty and faithfulness,\n  it can be found as a welcome guest in many households across the world.\n`;\n\nconst CurrentWeatherForcst = _ref => {\n  _s();\n\n  let {} = _ref;\n  const [curentItem, setCurentItem] = useState([\"current\"]);\n  const [dailyItem, setDailyItem] = useState([]);\n  const [header, setHeader] = useState(\"current\");\n  const [location, setLocation] = useState(\"\");\n  const [cloudes, setCloudes] = useState(\"\");\n  const [temp, setTemp] = useState(\"\");\n  const [windSpeed, setwindSpeed] = useState(\"\");\n  const [sunset, setSunset] = useState(\"\");\n  const [sunrise, setSunrise] = useState(\"\");\n  const [dailyData, setDailyDate] = useState(\"\");\n  const [currWeatherData, setcurrWeatherData] = useState(\"\");\n  const [dailyWeatherData, setcurrdailyWeatherData] = useState(\"\");\n\n  const callbackForMenu = data => {\n    // console.log(\"data\", data);\n    if (data.key !== \"current\" || data.key !== \"weekly\") {\n      setHeader(\"Daily\");\n      setDailyDate(data.key);\n    } else {\n      setHeader(data.key);\n    } // navigator.geolocation.getCurrentPosition(success, error);\n\n  };\n\n  const GetDaYForDalilyData = (n, d) => {\n    let day;\n\n    switch (n) {\n      case 0:\n        day = \"Sunday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n\n      case 1:\n        day = \"Monday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n\n      case 2:\n        day = \"Tuesday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n\n      case 3:\n        day = \"Wednesday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n\n      case 4:\n        day = \"Thursday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n\n      case 5:\n        day = \"Friday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n\n      case 6:\n        day = \"Saturday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n    }\n  };\n\n  const getArrayIndexForDay = data => {\n    if (data.include(\"Sunday\")) {\n      return 0;\n    } else if (data.include(\"Monday\")) {\n      return 1;\n    } else if (data.include(\"Tuesday\")) {\n      return 2;\n    } else if (data.include(\"Wednesday\")) {\n      return 3;\n    } else if (data.include(\"Thursday\")) {\n      return 4;\n    } else if (data.include(\"Friday\")) {\n      return 5;\n    } else if (data.include(\"Saturday\")) {\n      return 6;\n    }\n  };\n\n  const success = position => {\n    const latitude = position.coords.latitude;\n    const longitude = position.coords.longitude;\n    let ItemArray = [];\n    let queryParams = {};\n    queryParams.lat = latitude;\n    queryParams.lon = longitude;\n    let d;\n    let n;\n    let day;\n    let event1;\n    let event2;\n    getWeather(queryParams).then(response => {\n      setLocation(response.data.timezone);\n      response.data.daily.map((result, i) => {\n        d = new Date(result.dt * 1000);\n        n = d.getDay();\n        day = GetDaYForDalilyData(n, d);\n\n        if (i !== 7) {\n          ItemArray.push(day);\n        }\n      });\n\n      if (header === \"current\") {\n        event1 = new Date(response.data.current.sunrise);\n        event2 = new Date(response.data.current.sunset);\n        setDailyItem(ItemArray);\n        setTemp(Math.round(response.data.current.temp));\n        setCloudes(response.data.current.clouds);\n        setwindSpeed(response.data.current.wind_speed);\n        setSunrise(event1.toLocaleTimeString('en-US'));\n        setSunset(event2.toLocaleTimeString('en-US'));\n      } else if (header !== \"current\" && header !== \"weekly\") {\n        console.log(\"test\", dailyData);\n        let relatedNoOfDay = getArrayIndexForDay(dailyData.key);\n        setcurrdailyWeatherData(response.data.daily);\n        event1 = new Date(response.data.daily[relatedNoOfDay].sunrise);\n        event2 = new Date(response.data.daily[relatedNoOfDay].sunset);\n        console.log(\"daily\", response.data.daily);\n        setDailyItem(ItemArray);\n        setTemp(Math.round(response.data.daily[relatedNoOfDay].temp));\n        setCloudes(response.data.daily[relatedNoOfDay].clouds);\n        setwindSpeed(response.data.daily[relatedNoOfDay].wind_speed);\n        setSunrise(event1.toLocaleTimeString('en-US'));\n        setSunset(event2.toLocaleTimeString('en-US'));\n      }\n\n      console.log(\"response\", Math.round(response.data.current.temp));\n      console.log(\"ItemArray\", ItemArray);\n    }).catch(error => {\n      console.log(error);\n    });\n    console.log(latitude, longitude);\n  };\n\n  const error = () => {\n    alert(\"Unable to retrieve your location\");\n  };\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(success, error);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DropDown, {\n      DropDownText: \"Current\",\n      Item: curentItem,\n      callbackForMenu: data => {\n        callbackForMenu(data);\n      }\n    }, \"current\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n      DropDownText: \"Daily\",\n      Item: dailyItem,\n      callbackForMenu: data => {\n        callbackForMenu(data);\n      }\n    }, \"daily\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n      DropDownText: \"Weekly\"\n    }, \"weekly\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: location\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n      onChange: callback,\n      children: header === \"current\" ? /*#__PURE__*/_jsxDEV(Panel, {\n        header: header[0].toUpperCase() + header.slice(1).toLowerCase(),\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"temp\" + \" \" + temp + \"C\" + \"  \" + \"Cloude\" + \" \" + cloudes + \"  \" + \"Sunrise\" + \" \" + sunrise + \"  \" + \"Sunset\" + \"  \" + sunset + \"  \" + \"wind Speed\" + \"  \" + windSpeed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this)\n      }, \"2\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this) : header === \"weekly\" ? \"\" : /*#__PURE__*/_jsxDEV(Panel, {\n        header: header[0].toUpperCase() + header.slice(1).toLowerCase(),\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"temp\" + \" \" + temp + \"C\" + \"  \" + \"Cloude\" + \" \" + cloudes + \"  \" + \"Sunrise\" + \" \" + sunrise + \"  \" + \"Sunset\" + \"  \" + sunset + \"  \" + \"wind Speed\" + \"  \" + windSpeed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }, this)\n      }, \"2\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CurrentWeatherForcst, \"/dYKDS4Ll0mhmWzXkgKfp05GtYA=\");\n\n_c = CurrentWeatherForcst;\nexport default CurrentWeatherForcst;\n\nvar _c;\n\n$RefreshReg$(_c, \"CurrentWeatherForcst\");","map":{"version":3,"sources":["/home/nupur.majumar/Desktop/weather_portal/src/component/weatherForcast.js"],"names":["React","useEffect","useState","Collapse","getWeather","DropDown","Panel","callback","key","console","log","text","CurrentWeatherForcst","curentItem","setCurentItem","dailyItem","setDailyItem","header","setHeader","location","setLocation","cloudes","setCloudes","temp","setTemp","windSpeed","setwindSpeed","sunset","setSunset","sunrise","setSunrise","dailyData","setDailyDate","currWeatherData","setcurrWeatherData","dailyWeatherData","setcurrdailyWeatherData","callbackForMenu","data","GetDaYForDalilyData","n","d","day","String","getDate","padStart","getArrayIndexForDay","include","success","position","latitude","coords","longitude","ItemArray","queryParams","lat","lon","event1","event2","then","response","timezone","daily","map","result","i","Date","dt","getDay","push","current","Math","round","clouds","wind_speed","toLocaleTimeString","relatedNoOfDay","catch","error","alert","navigator","geolocation","getCurrentPosition","toUpperCase","slice","toLowerCase"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Collapse } from \"antd\";\nimport { getWeather } from \"../API/api-services\";\nimport DropDown from \"./share/dropdown\";\nconst { Panel } = Collapse;\nfunction callback(key) {\n  console.log(key);\n}\nconst text = `\n  A dog is a type of domesticated animal.\n  Known for its loyalty and faithfulness,\n  it can be found as a welcome guest in many households across the world.\n`;\nconst CurrentWeatherForcst = ({}) => {\n  const [curentItem, setCurentItem] = useState([\"current\"]);\n  const [dailyItem, setDailyItem] = useState([]);\n  const [header, setHeader] = useState(\"current\");\n  const [location, setLocation] = useState(\"\");\n  const [cloudes, setCloudes] = useState(\"\");\n  const [temp, setTemp] = useState(\"\");\n  const [windSpeed, setwindSpeed] = useState(\"\");\n  const [sunset, setSunset] = useState(\"\");\n  const [sunrise, setSunrise] = useState(\"\");\n  const [dailyData, setDailyDate] = useState(\"\");\n\n\n  const [currWeatherData, setcurrWeatherData] = useState(\"\");\n  const [dailyWeatherData, setcurrdailyWeatherData] = useState(\"\");\n\n  const callbackForMenu = (data) => {\n    // console.log(\"data\", data);\n    if(data.key !== \"current\" || data.key !== \"weekly\"){\n        setHeader(\"Daily\")\n        setDailyDate(data.key)\n    }else{\n        setHeader(data.key);\n    }\n    // navigator.geolocation.getCurrentPosition(success, error);\n    \n  };\n\n  const GetDaYForDalilyData = (n, d) => {\n    let day;\n    switch (n) {\n      case 0:\n        day = \"Sunday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n      case 1:\n        day = \"Monday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n      case 2:\n        day = \"Tuesday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n      case 3:\n        day = \"Wednesday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n      case 4:\n        day = \"Thursday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n      case 5:\n        day = \"Friday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n      case 6:\n        day = \"Saturday\" + \" \" + String(d.getDate()).padStart(2, \"0\");\n        return day;\n    }\n  };\n\n  const getArrayIndexForDay = (data) => {\n      if(data.include(\"Sunday\")){\n          return 0\n      }else if(data.include(\"Monday\")){\n          return 1\n      }else if(data.include(\"Tuesday\")){\n         return 2\n      }else if(data.include(\"Wednesday\")){\n        return 3\n    }else if(data.include(\"Thursday\")){\n        return 4\n    }else if(data.include(\"Friday\")){\n        return 5\n    }else if(data.include(\"Saturday\")){\n        return 6\n    }\n\n\n  }\n\n  const success = (position) => {\n    const latitude = position.coords.latitude;\n    const longitude = position.coords.longitude;\n    let ItemArray = [];\n    let queryParams = {};\n    queryParams.lat = latitude;\n    queryParams.lon = longitude;\n    let d;\n    let n;\n    let day;\n    let event1\n    let event2\n    getWeather(queryParams)\n      .then((response) => {\n        setLocation(response.data.timezone);\n        response.data.daily.map((result, i) => {\n          d = new Date(result.dt * 1000);\n          n = d.getDay();\n          day = GetDaYForDalilyData(n, d);\n          if (i !== 7) {\n            ItemArray.push(day);\n          }\n        });\n\n        if(header === \"current\"){\n            event1 = new Date(response.data.current.sunrise);\n            event2 = new Date(response.data.current.sunset);\n            \n            setDailyItem(ItemArray);\n            setTemp(Math.round(response.data.current.temp))\n            setCloudes(response.data.current.clouds)\n            setwindSpeed(response.data.current.wind_speed)\n            setSunrise(event1.toLocaleTimeString('en-US'))\n            setSunset(event2.toLocaleTimeString('en-US'))\n\n        }else if(header !== \"current\" && header !== \"weekly\"){\n            console.log(\"test\",dailyData)\n            let relatedNoOfDay = getArrayIndexForDay(dailyData.key)\n            setcurrdailyWeatherData(response.data.daily)\n            event1 = new Date(response.data.daily[relatedNoOfDay].sunrise)\n            event2 = new Date(response.data.daily[relatedNoOfDay].sunset);\n            console.log(\"daily\",response.data.daily)\n            \n            setDailyItem(ItemArray);\n            setTemp(Math.round(response.data.daily[relatedNoOfDay].temp))\n            setCloudes(response.data.daily[relatedNoOfDay].clouds)\n            setwindSpeed(response.data.daily[relatedNoOfDay].wind_speed)\n            setSunrise(event1.toLocaleTimeString('en-US'))\n            setSunset(event2.toLocaleTimeString('en-US'))\n\n        }\n       \n       \n        console.log(\"response\", Math.round(response.data.current.temp));\n        console.log(\"ItemArray\", ItemArray);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    console.log(latitude, longitude);\n  };\n  const error = () => {\n    alert(\"Unable to retrieve your location\");\n  };\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(success, error);\n  }, []);\n\n  return (\n    <>\n      <DropDown\n        key=\"current\"\n        DropDownText=\"Current\"\n        Item={curentItem}\n        callbackForMenu={(data) => {\n          callbackForMenu(data);\n        }}\n      />\n      <DropDown \n        key=\"daily\" \n        DropDownText=\"Daily\" \n        Item={dailyItem}\n        callbackForMenu={(data) => {\n            callbackForMenu(data);\n        }}\n     />\n      <DropDown key=\"weekly\" DropDownText=\"Weekly\" />\n      <h3>{location}</h3>\n\n      <Collapse onChange={callback}>\n        {header === \"current\"\n        ?\n        (\n          <Panel header={header[0].toUpperCase() + header.slice(1).toLowerCase()} key=\"2\">\n            <p>{\"temp\" + \" \"+ temp + \"C\"+\"  \"+\"Cloude\"+ \" \" + cloudes +\"  \"+\"Sunrise\"+\" \"+sunrise+\"  \"+\"Sunset\"+\"  \"+sunset+\"  \"+\"wind Speed\"+\"  \"+windSpeed }</p>\n          </Panel>\n        )\n        :\n        header === \"weekly\"\n            ?\n            \"\"\n            :\n            (\n            <Panel header={header[0].toUpperCase() + header.slice(1).toLowerCase()} key=\"2\">\n                <p>{\"temp\" + \" \"+ temp + \"C\"+\"  \"+\"Cloude\"+ \" \" + cloudes +\"  \"+\"Sunrise\"+\" \"+sunrise+\"  \"+\"Sunset\"+\"  \"+sunset+\"  \"+\"wind Speed\"+\"  \"+windSpeed }</p>\n            </Panel>\n            )\n\n\n        }\n        {/* {header === \"current\" && (\n          <Panel header={header[0].toUpperCase() + header.slice(1).toLowerCase()} key=\"2\">\n            <p>{\"temp\" + \" \"+ temp + \"C\"+\"  \"+\"Cloude\"+ \" \" + cloudes +\"  \"+\"Sunrise\"+\" \"+sunrise+\"  \"+\"Sunset\"+\"  \"+sunset+\"  \"+\"wind Speed\"+\"  \"+windSpeed }</p>\n          </Panel>\n        )} */}\n         {/* {header !== \"current\" || header !== \"weekly\" && (\n          <Panel header={header[0].toUpperCase() + header.slice(1).toLowerCase()} key=\"2\">\n            <p>{\"temp\" + \" \"+ temp + \"C\"+\"  \"+\"Cloude\"+ \" \" + cloudes +\"  \"+\"Sunrise\"+\" \"+sunrise+\"  \"+\"Sunset\"+\"  \"+sunset+\"  \"+\"wind Speed\"+\"  \"+windSpeed }</p>\n          </Panel>\n        )} */}\n        {/* <Panel header=\"This is panel header 2\" key=\"2\">\n          <p>{text}</p>\n        </Panel>\n        <Panel header=\"This is panel header 3\" key=\"3\">\n          <p>{text}</p>\n        </Panel> */}\n      </Collapse>\n    </>\n  );\n};\nexport default CurrentWeatherForcst;\n"]},"metadata":{},"sourceType":"module"}